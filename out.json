{
  "$$master": {
    "inputs": {},
    "processors": {
      "timestamp": {
        "type": "timestamp",
        "config": {
          "output": "timestamp",
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "transporters": {
      "#": {
        "type": "reemit",
        "config": {
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      },
      "null": {
        "type": "null",
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "config": {
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "modules": null,
    "include": [
      "examples\\config\\test001_syslog_children.json"
    ],
    "config": {
      "input": {
        "maxPending": 1000
      },
      "buffer": {
        "maxPending": 1000
      },
      "processor": {
        "maxPending": 1000
      },
      "transporter": {
        "maxPending": 1000
      },
      "datadir": "C:\\tmp\\nsyslog"
    },
    "description": [
      "This configuration shows the use of syslog, both as transporter and as an input",
      "First, we read log files from log folder, and sends them to a syslog endpoint.",
      "Then, we create a syslog server that receives the messages, parse them and",
      "show them on screen"
    ],
    "flows": [
      {
        "id": "nofork",
        "from": "*",
        "fork": false,
        "processors": [
          "timestamp"
        ],
        "transporters": [
          "null"
        ],
        "mode": "parallel",
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
      }
    ],
    "$file": "examples\\config\\test001_syslog_children.json",
    "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
    "$path": "C:\\t\\nsyslog\\examples\\config",
    "$datadir": "C:\\tmp\\nsyslog",
    "processorGroups": {},
    "transporterGroups": {},
    "filters": {},
    "filterGroups": {},
    "$$errors": null,
    "$$raw": {
      "include": [
        "examples\\config\\test001_syslog_children.json"
      ],
      "transporters": {
        "#": {
          "type": "reemit",
          "config": {}
        },
        "syslog": {
          "type": "syslog",
          "config": {
            "url": "udp://localhost:514",
            "format": "${originalMessage}",
            "application": "${filename}",
            "hostname": "localhost",
            "level": "info",
            "facility": 5,
            "stream": true,
            "tls": {
              "key": "./config/server.key",
              "cert": "./config/server.crt"
            }
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "logger": {
          "type": "console",
          "config": {
            "level": "info",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "debug": {
          "type": "console",
          "config": {
            "level": "debug",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "null": {
          "type": "null",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "config": {
        "datadir": "/tmp/nsyslog",
        "input": {
          "maxPending": 1000
        },
        "buffer": {
          "maxPending": 1000
        },
        "processor": {
          "maxPending": 1000
        },
        "transporter": {
          "maxPending": 1000
        }
      },
      "description": [
        "This configuration shows the use of syslog, both as transporter and as an input",
        "First, we read log files from log folder, and sends them to a syslog endpoint.",
        "Then, we create a syslog server that receives the messages, parse them and",
        "show them on screen"
      ],
      "inputs": {
        "file": {
          "type": "file",
          "attach": [
            "main"
          ],
          "config": {
            "path": "/var/log/**/*.log",
            "watch": true,
            "readmode": "offset",
            "offset": "start"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "syslog": {
          "type": "syslog",
          "attach": [
            "server"
          ],
          "config": {
            "url": "udp://localhost:514"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "processors": {
        "timestamp": {
          "type": "timestamp",
          "config": {
            "output": "timestamp"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "parser": {
          "type": "syslogparser",
          "config": {
            "input": "${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "flows": [
        {
          "id": "nofork",
          "from": "*",
          "fork": false,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "null"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "main",
          "from": "file",
          "fork": true,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "syslog"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "server",
          "from": "syslog",
          "fork": true,
          "children": [
            {
              "id": "child1",
              "when": {
                "originalMessage": {
                  "$regex": "traffic"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            },
            {
              "id": "child2",
              "when": {
                "originalMessage": {
                  "$regex": "error"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            }
          ],
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      ]
    }
  },
  "main": {
    "inputs": {
      "file": {
        "type": "file",
        "attach": [
          "main"
        ],
        "config": {
          "path": "/var/log/**/*.log",
          "watch": true,
          "readmode": "offset",
          "offset": "start",
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "processors": {
      "timestamp": {
        "type": "timestamp",
        "config": {
          "output": "timestamp",
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "transporters": {
      "#": {
        "type": "reemit",
        "config": {
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      },
      "syslog": {
        "type": "syslog",
        "config": {
          "url": "udp://localhost:514",
          "format": "${originalMessage}",
          "application": "${filename}",
          "hostname": "localhost",
          "level": "info",
          "facility": 5,
          "stream": true,
          "tls": {
            "key": "./config/server.key",
            "cert": "./config/server.crt"
          },
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "modules": null,
    "include": [
      "examples\\config\\test001_syslog_children.json"
    ],
    "config": {
      "input": {
        "maxPending": 1000
      },
      "buffer": {
        "maxPending": 1000
      },
      "processor": {
        "maxPending": 1000
      },
      "transporter": {
        "maxPending": 1000
      },
      "datadir": "C:\\tmp\\nsyslog"
    },
    "description": [
      "This configuration shows the use of syslog, both as transporter and as an input",
      "First, we read log files from log folder, and sends them to a syslog endpoint.",
      "Then, we create a syslog server that receives the messages, parse them and",
      "show them on screen"
    ],
    "flows": [
      {
        "id": "main",
        "from": "file",
        "fork": true,
        "processors": [
          "timestamp"
        ],
        "transporters": [
          "syslog"
        ],
        "mode": "parallel",
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
      }
    ],
    "$file": "examples\\config\\test001_syslog_children.json",
    "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
    "$path": "C:\\t\\nsyslog\\examples\\config",
    "$datadir": "C:\\tmp\\nsyslog",
    "processorGroups": {},
    "transporterGroups": {},
    "filters": {},
    "filterGroups": {},
    "$$errors": null,
    "$$raw": {
      "include": [
        "examples\\config\\test001_syslog_children.json"
      ],
      "transporters": {
        "#": {
          "type": "reemit",
          "config": {}
        },
        "syslog": {
          "type": "syslog",
          "config": {
            "url": "udp://localhost:514",
            "format": "${originalMessage}",
            "application": "${filename}",
            "hostname": "localhost",
            "level": "info",
            "facility": 5,
            "stream": true,
            "tls": {
              "key": "./config/server.key",
              "cert": "./config/server.crt"
            }
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "logger": {
          "type": "console",
          "config": {
            "level": "info",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "debug": {
          "type": "console",
          "config": {
            "level": "debug",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "null": {
          "type": "null",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "config": {
        "datadir": "/tmp/nsyslog",
        "input": {
          "maxPending": 1000
        },
        "buffer": {
          "maxPending": 1000
        },
        "processor": {
          "maxPending": 1000
        },
        "transporter": {
          "maxPending": 1000
        }
      },
      "description": [
        "This configuration shows the use of syslog, both as transporter and as an input",
        "First, we read log files from log folder, and sends them to a syslog endpoint.",
        "Then, we create a syslog server that receives the messages, parse them and",
        "show them on screen"
      ],
      "inputs": {
        "file": {
          "type": "file",
          "attach": [
            "main"
          ],
          "config": {
            "path": "/var/log/**/*.log",
            "watch": true,
            "readmode": "offset",
            "offset": "start"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "syslog": {
          "type": "syslog",
          "attach": [
            "server"
          ],
          "config": {
            "url": "udp://localhost:514"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "processors": {
        "timestamp": {
          "type": "timestamp",
          "config": {
            "output": "timestamp"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "parser": {
          "type": "syslogparser",
          "config": {
            "input": "${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "flows": [
        {
          "id": "nofork",
          "from": "*",
          "fork": false,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "null"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "main",
          "from": "file",
          "fork": true,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "syslog"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "server",
          "from": "syslog",
          "fork": true,
          "children": [
            {
              "id": "child1",
              "when": {
                "originalMessage": {
                  "$regex": "traffic"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            },
            {
              "id": "child2",
              "when": {
                "originalMessage": {
                  "$regex": "error"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            }
          ],
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      ]
    }
  },
  "server": {
    "inputs": {
      "syslog": {
        "type": "syslog",
        "attach": [
          "server"
        ],
        "config": {
          "url": "udp://localhost:514",
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "processors": {
      "parser": {
        "type": "syslogparser",
        "config": {
          "input": "${originalMessage}",
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "transporters": {
      "#": {
        "type": "reemit",
        "config": {
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      },
      "null": {
        "type": "null",
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "config": {
          "$path": "C:\\t\\nsyslog\\examples\\config",
          "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
          "$datadir": "C:\\tmp\\nsyslog"
        },
        "maxPending": 1000,
        "buffer": false,
        "when": {
          "filter": false,
          "bypass": false
        }
      }
    },
    "modules": null,
    "include": [
      "examples\\config\\test001_syslog_children.json"
    ],
    "config": {
      "input": {
        "maxPending": 1000
      },
      "buffer": {
        "maxPending": 1000
      },
      "processor": {
        "maxPending": 1000
      },
      "transporter": {
        "maxPending": 1000
      },
      "datadir": "C:\\tmp\\nsyslog"
    },
    "description": [
      "This configuration shows the use of syslog, both as transporter and as an input",
      "First, we read log files from log folder, and sends them to a syslog endpoint.",
      "Then, we create a syslog server that receives the messages, parse them and",
      "show them on screen"
    ],
    "flows": [
      {
        "id": "server",
        "from": "syslog",
        "fork": true,
        "children": [
          {
            "id": "child1",
            "when": {
              "originalMessage": {
                "$regex": {}
              }
            },
            "processors": [
              "parser"
            ],
            "transporters": [
              "null"
            ],
            "fork": "server",
            "from": "false"
          },
          {
            "id": "child2",
            "when": {
              "originalMessage": {
                "$regex": {}
              }
            },
            "processors": [
              "parser"
            ],
            "transporters": [
              "null"
            ],
            "fork": "server",
            "from": "false"
          }
        ],
        "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
        "transporters": [
          "#child1",
          "#child2"
        ]
      }
    ],
    "$file": "examples\\config\\test001_syslog_children.json",
    "$filepath": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json",
    "$path": "C:\\t\\nsyslog\\examples\\config",
    "$datadir": "C:\\tmp\\nsyslog",
    "processorGroups": {},
    "transporterGroups": {},
    "filters": {},
    "filterGroups": {},
    "$$errors": null,
    "$$raw": {
      "include": [
        "examples\\config\\test001_syslog_children.json"
      ],
      "transporters": {
        "#": {
          "type": "reemit",
          "config": {}
        },
        "syslog": {
          "type": "syslog",
          "config": {
            "url": "udp://localhost:514",
            "format": "${originalMessage}",
            "application": "${filename}",
            "hostname": "localhost",
            "level": "info",
            "facility": 5,
            "stream": true,
            "tls": {
              "key": "./config/server.key",
              "cert": "./config/server.crt"
            }
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "logger": {
          "type": "console",
          "config": {
            "level": "info",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "debug": {
          "type": "console",
          "config": {
            "level": "debug",
            "format": "${null||process.pid}: ${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "null": {
          "type": "null",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "config": {
        "datadir": "/tmp/nsyslog",
        "input": {
          "maxPending": 1000
        },
        "buffer": {
          "maxPending": 1000
        },
        "processor": {
          "maxPending": 1000
        },
        "transporter": {
          "maxPending": 1000
        }
      },
      "description": [
        "This configuration shows the use of syslog, both as transporter and as an input",
        "First, we read log files from log folder, and sends them to a syslog endpoint.",
        "Then, we create a syslog server that receives the messages, parse them and",
        "show them on screen"
      ],
      "inputs": {
        "file": {
          "type": "file",
          "attach": [
            "main"
          ],
          "config": {
            "path": "/var/log/**/*.log",
            "watch": true,
            "readmode": "offset",
            "offset": "start"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "syslog": {
          "type": "syslog",
          "attach": [
            "server"
          ],
          "config": {
            "url": "udp://localhost:514"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "processors": {
        "timestamp": {
          "type": "timestamp",
          "config": {
            "output": "timestamp"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        "parser": {
          "type": "syslogparser",
          "config": {
            "input": "${originalMessage}"
          },
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      },
      "flows": [
        {
          "id": "nofork",
          "from": "*",
          "fork": false,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "null"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "main",
          "from": "file",
          "fork": true,
          "processors": [
            "timestamp"
          ],
          "transporters": [
            "syslog"
          ],
          "mode": "parallel",
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        },
        {
          "id": "server",
          "from": "syslog",
          "fork": true,
          "children": [
            {
              "id": "child1",
              "when": {
                "originalMessage": {
                  "$regex": "traffic"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            },
            {
              "id": "child2",
              "when": {
                "originalMessage": {
                  "$regex": "error"
                }
              },
              "processors": [
                "parser"
              ],
              "transporters": [
                "null"
              ]
            }
          ],
          "$$filename": "C:\\t\\nsyslog\\examples\\config\\test001_syslog_children.json"
        }
      ]
    }
  }
}
