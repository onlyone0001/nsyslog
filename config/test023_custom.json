{
	"register" : [
		{"type":"input","id":"mypush","require":"custom/push-input.js"},
		{"type":"input","id":"mypull","require":"custom/pull-input.js"},
		{"type":"processor","id":"myproc","require":"custom/custom-processor.js"},
		{"type":"transporter","id":"mytrans","require":"custom/custom-transporter.js"}
	],

	"config" : {
		"datadir" : "/tmp/nsyslog"
	},

	"inputs" : {
		"pusher" : {
			"type" : "mypush",
			"config" : {
				"interval" : 10,
				"threshold" : 0.5
			}
		}
	},

	"processors" : {
		"multi" : {
			"type" : "myproc",
			"config" : {
				"filter" : "${originalMessage}.match(/[02468]$/)",
				"duplicate" : "${originalMessage}.match(/[13579]$/)"
			}
		}
	},

	"transporters" : {
		"console" : {
			"type" : "mytrans",
			"config" : {
				"format" : "${seq}: ${originalMessage}"
			}
		}
	},

	"flows" : [
		{"from":"*", "processors":["multi"], "transporters":["console"], "mode":"parallel"}
	]
}
