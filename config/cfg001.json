{
	"include" : [
		"processors.json"
	],
	"servers" : {
		"udp" : {
			"protocol" : "udp4",
			"interface" : "0.0.0.0",
			"port" : "514"
		}
	},

	"filters" : {
		"fromUDP" : "${server.protocol}=='udp4'",
		"httpOk" : "${message}.match(/ 200/)",
		"httpRed" : "${message}.match(/ 302/)",
		"httpErr" : "${message}.match(/ (404|500)/)"
	},

	"filterGroups" : {
	},

	"transporters" : {
		"file" : {
			"type" : "file",
			"config" : {
				"format" : "${originalMessage}",
				"path" : "/var/log/nsyslog/${host}/${appName}.log"
			}
		},
		"log" : {
			"type" : "console",
			"config" : {"format" : "${message}", "level" : "log"}
		},
		"debug" : {
			"type" : "console",
			"config" : {"format" : "${message}", "level" : "debug"}
		},
		"warn" : {
			"type" : "console",
			"config" : {"format" : "${message}", "level" : "warn"}
		},
		"error" : {
			"type" : "console",
			"config" : {"format" : "${message}", "level" : "error"}
		}
	},

	"transporterGroups" : {
	},

	"processors" : {
	},

	"flows" : [
		{"from":["httpOk"], "transporter":"log"},
		{"from":["httpRed"], "transporter":"warn"},
		{"from":["httpErr"], "transporter":"error"},
		{"from":["fromUDP"], "transporter":"file"},
		{"from":"*", "transporter":"debug"}
	]
}
